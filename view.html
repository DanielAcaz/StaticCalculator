<!DOCTYPE hml>
<html>
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<style>
		body {
		  display: flex;
		  justify-content: center;
		  background: #FFFFFF;
		}

		.base {
		  position: absolute;
		  background: #000000;
		  width: 400px;
		  height: 10px;
		}

		.barra1 {
		  position: absolute;
		  background: #A0522D;
		  width: 10px;
		  height: 200px;
		  left: 30px;
		  transform: rotate(0deg);
		  transform-origin: 0% 0%
		}

		.barra2 {
		  position: absolute;
		  background: #A0522D;
		  width: 10px;
		  height: 200px;
		  left: 360px;
		  transform: rotate(0deg);
		  transform-origin: 0% 0%
		}

		.caixa {
			position: absolute;
			background: #FFDEAD;
			width: 398px;
			height: 200px;
			bottom: 390;
			right: 520px;
		}

		.data {
			position: absolute;
			bottom: 0px;
			width: 500px;
		}

		#result{
		    position: relative;
			left: 0px;
			top: 280px;
		}
	</style>
</head>
<body>
	<div class="base">
	    <div class="barra1"></div>
	    <div class="barra2"></div>
	</div> 
	<div class="caixa"></div>
	<label id="result">Massa da Caixa = *Não Calculada</label>
	<div class = "data">
		<form>
		  <div class="form-group">
		    <label for="barAngle1">Ângulo da Barra A</label>
		    <input type="text" class="form-control" id="barAngle1" aria-describedby="Ângulo da Barra A" placeholder="Digite o Ângulo da Barra A">
		  </div>
		  <div class="form-group">
		    <label for="barAngle2">Ângulo da Barra B</label>
		    <input type="text" class="form-control" id="barAngle2" aria-describedby="Ângulo da Barra B" placeholder="Digite o Ângulo da Barra B">
		  </div>
		  <div class="form-group">
		    <label for="massa">Massa da Caixa</label>
		    <input type="text" class="form-control" id="massa" aria-describedby="Massa da Caixa" placeholder="Digite a Massa da Caixa">
		  </div>
		  <button type="button" class="btn btn-primary" onclick="calculateMass()">Calcular</button>
		</form>
	</div>
	<script type="text/javascript">
		function calculateMass() {
			var anguloBarraA = - (90 - parseInt(document.getElementById('barAngle1').value));
			console.log(anguloBarraA);
			var anguloBarraB = 90 - parseInt(document.getElementById('barAngle2').value);
			console.log(anguloBarraB);


			var anguloTotal = anguloBarraA + anguloBarraB;
			if(anguloBarraA<anguloBarraB) {
				anguloTotal *= -1;
			}
			console.log(anguloTotal);
			var rotacaoCaixa = anguloTotal * 0.334;
			var proporcaoEsquerdaCaixa = (anguloBarraA/anguloTotal) * 100;	
			console.log(proporcaoEsquerdaCaixa)
			var proporcaoDireitaCaixa = (anguloBarraB/anguloTotal) * 100;
			console.log(proporcaoDireitaCaixa)

			var barraA = document.getElementsByClassName('barra1')[0];
			barraA.style.transform = 'rotate(' + anguloBarraA + 'deg)';

			var barraB = document.getElementsByClassName('barra2')[0];
			barraB.style.transform = 'rotate(' + anguloBarraB + 'deg)';

			var caixa = document.getElementsByClassName('caixa')[0];
			caixa.style.transform = 'rotate(' + rotacaoCaixa + 'deg)';
			console.log(proporcaoEsquerdaCaixa + '% ' + proporcaoDireitaCaixa + '%');
			//caixa.style.transform-origin = proporcaoEsquerdaCaixa + '% ' + proporcaoDireitaCaixa + '%'; 


	  		var massaCaixa = document.getElementById('massa');
	  		var forcaEstatica = document.getElementById('result');
	  		forcaEstatica.textContent = "Massa da Caixa = " + (anguloBarraA * anguloBarraB * massaCaixa.value); 
	  }
	</script>
</body>	
</html>